"use strict";(self.webpackChunkBlog1=self.webpackChunkBlog1||[]).push([[663],{4384:function(e,n,t){t.r(n),t.d(n,{default:function(){return l}});var r=t(5861),o=t(7757),c=t.n(o),s=t(7294),a=t(2772),u={"Content-Type":"application/json",Accept:"application/json","X-TYPESENSE-API-KEY":"xyz"},i=function(e){return new Promise((function(n,t){var o={method:"get",headers:Object.assign({},u)};fetch("http://search.atlas.weready.online/collections/blogs/documents/search?"+("query_by=title,authors,content&q="+e),o).then(function(){var e=(0,r.Z)(c().mark((function e(n){var t,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.status,r=n.ok,console.log("request response",n,t),!(t>=200&&t<300&&r)){e.next=6;break}return e.abrupt("return",n.json());case 6:return e.abrupt("return",n.text());case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()).then((function(e){console.log("parse response",typeof e),"string"==typeof e?(console.error(e),t("string response")):n(e)})).catch((function(e){console.error(e),t(e)}))}))};function l(){var e=(0,s.useState)(0),n=e[0],t=e[1],o=(0,s.useState)(""),u=o[0],l=o[1],p=function(){var e=(0,r.Z)(c().mark((function e(){var n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(u);case 2:r=e.sent,console.log(r),t(null==r||null===(n=r.hits)||void 0===n?void 0:n.length);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return s.createElement(a.aw,{headTitle:"目录"},s.createElement("input",{onChange:function(e){l(e.target.value)}}),!!n&&s.createElement("p",null,n),s.createElement("button",{onClick:function(){p()}},"search"))}}}]);
//# sourceMappingURL=component---src-pages-ftsearch-tsx-712087b505a6b6425d9d.js.map