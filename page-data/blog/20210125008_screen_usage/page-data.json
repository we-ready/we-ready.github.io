{"componentChunkName":"component---src-templates-blog-js","path":"/blog/20210125008_screen_usage","result":{"pageContext":{"frontmatter":{"id":"20210125008_screen_usage","title":"XShell连接Linux服务器执行程序的常驻运行","subtitle":"XShell 下利用 screen 命令，实现命令行的后台常驻运行","subject":"运维","author":"Chis Wei","keywords":"screen;常驻运行","tags":"XShell","category":"实战技巧","cover":null,"created_when":"2021-01-25","updated_when":"2021-01-25","level":200},"excerpt":" Linux程序的常驻运行\n\n 安装\n\n    [root@VM_183_120_centos ~]# yum install screen -y \n    [root@VM_183_120_centos ~]# rpm -qa|grep screen\n\n 使用\n\n 创建一个新的会话\n","html":"<h1>Linux程序的常驻运行</h1>\n<h2>安装</h2>\n<pre><code>[root@VM_183_120_centos ~]# yum install screen -y \n[root@VM_183_120_centos ~]# rpm -qa|grep screen\n</code></pre>\n<h2>使用</h2>\n<h4>创建一个新的会话</h4>\n<p>下面命令中test为新建会话的名称</p>\n<pre><code>[root@VM_183_120_centos ~]# screen -S test\n</code></pre>\n<h4>查看已有会话</h4>\n<pre><code>[root@VM_183_120_centos ~]# screen -ls\n</code></pre>\n<h4>重连会话（在这里我们重连test）</h4>\n<pre><code>[root@VM_183_120_centos ~]# screen  -r test //可以是名字test也可以是session ID\n</code></pre>\n<h4>退出会话</h4>\n<pre><code>[root@VM_183_120_centos ~]#screen -d  &#x3C;session ID 或者 名字>\n</code></pre>\n<h4>清除dead 会话</h4>\n<p>如果由于某种原因其中一个会话死掉了（例如人为杀掉该会话），这时screen -list会显示该会话为dead状态。使用screen -wipe命令清除该会话</p>\n<pre><code>[root@VM_183_120_centos ~]#screen -wipe\n</code></pre>\n<h4>关闭或杀死窗口</h4>\n<ul>\n<li>方法 - 1</li>\n</ul>\n<p>退出会话后，使用 screen -X -S [session id] quit 命令，可以结束某个session</p>\n<pre><code>[root@1core2g201802 ~]# screen -ls\nThere are screens on:\n    14954.test  (Detached)\n    27902.frps  (Detached)\n2 Sockets in /var/run/screen/S-root.\n\n[root@1core2g201802 ~]# screen -X -S 14954 quit\n[root@1core2g201802 ~]# screen -ls\nThere is a screen on:\n    27902.frps  (Detached)\n1 Socket in /var/run/screen/S-root.\n</code></pre>\n<ul>\n<li>方法 - 2</li>\n</ul>\n<p>如果已经在某个 screen session 中，可以使用 exit 命令退出当前 session\n如下：在 test session 中执行 exit 命令</p>\n<pre><code>[root@1core2g201802 ~]# screen -ls\nThere are screens on:\n        15419.test      (Attached)\n        27902.frps      (Detached)\n2 Sockets in /var/run/screen/S-root.\n\n[root@1core2g201802 ~]# exit\n</code></pre>\n<blockquote>\n<p>注意</p>\n<p>Crtl + a +d     保存进程并退出作业(程序在screen中继续运行，screen -ls 可查看)</p>\n<p>exit            退出作业和进程(程序终止，screen -ls 不可查看)</p>\n</blockquote>"}},"staticQueryHashes":["2561680736","2718502863","3159585216"]}