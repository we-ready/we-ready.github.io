{"componentChunkName":"component---src-templates-blog-js","path":"/blog/20210303000_node_prj_with_ts","result":{"pageContext":{"frontmatter":{"id":"20210303000_node_prj_with_ts","title":"从零开始构架一个支持 ts 语法的 nodejs 项目","subtitle":"如何 step by step 的构建一个支持 typescript 语法的 nodejs 项目","subject":"typescript","author":"Chris Wei","keywords":null,"tags":"nodejs;typescript;npm","category":"指导手册","cover":"https://media.inkscape.org/media/resources/file/Gears_8IWk3lq.svg","created_when":"2021-03-03","updated_when":"2021-03-03","level":200},"excerpt":" 从零开始构架一个支持 ts 语法的 n…\n","html":"<h1>从零开始构架一个支持 ts 语法的 nodejs 项目</h1>\n<h2>创建并配置</h2>\n<h4>创建项目目录</h4>\n<h4>进入项目目录并初始化 <code>package.json</code></h4>\n<pre><code>npm init\n</code></pre>\n<h4>增加对 <code>typescript</code> 的支持</h4>\n<pre><code>npm install --save-dev typescript tslint @types/node\n</code></pre>\n<blockquote>\n<p><code>devDependencies</code> in <code>package.json</code></p>\n</blockquote>\n<h4>初始化 <code>ts</code> 开发环境</h4>\n<pre><code>node_modules\\.bin\\tsc --init\n</code></pre>\n<blockquote>\n<p><code>tsconfig.json</code> 概要</p>\n</blockquote>\n<ul>\n<li><code>include</code>   <code>ts</code>文件所在的文件夹</li>\n<li><code>target</code>    <code>ts</code>编译成js的标准</li>\n<li><code>module</code>    <code>ts</code>代码编译成什么模块系统</li>\n<li><code>lib</code>       运行环境包含哪些 <code>api</code></li>\n<li><code>outDir</code>    编译后的输出目录</li>\n<li><code>strict</code>    严格模式</li>\n</ul>\n<h4>初始化语法检查 <code>tslint.json</code></h4>\n<pre><code>node_modules\\.bin\\tslint --init\n</code></pre>\n<blockquote>\n<p><code>tslint.json</code> 摘要</p>\n</blockquote>\n<pre><code>{\n  \"defaultSeverity\": \"error\",\n  \"extends\": [\n    \"tslint:recommended\"\n  ],\n  \"jsRules\": {},\n  \"rules\": {\n    \"noo-console\": false\n  },\n  \"rulesDirectory\": []\n}\n</code></pre>\n<h4>编译构建</h4>\n<pre><code>node_modules\\.bin\\tsc\n</code></pre>\n<h4>运行</h4>\n<pre><code>node ./dist/main.js\n</code></pre>\n<h4>安装 <code>ts-node</code></h4>\n<pre><code>npm install --save-dev ts-node\n</code></pre>\n<pre><code>node_modules\\.bin\\ts-node ./src/main\n</code></pre>\n<h4>修改 <code>scripts</code> in <code>package.json</code></h4>\n<pre><code>  ... ...\n  \"scripts\": {\n    \"start\": \"node_modules/.bin/ts-node ./src/main\",\n    \"build\": \"node_modules/.bin/tsc\",\n  ... ...\n</code></pre>\n<h4>执行</h4>\n<pre><code>yarn start\n</code></pre>"}},"staticQueryHashes":["2718502863","3159585216","847266990"]}