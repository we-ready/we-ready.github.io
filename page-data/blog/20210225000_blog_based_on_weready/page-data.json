{
    "componentChunkName": "component---src-templates-blog-js",
    "path": "/blog/20210225000_blog_based_on_weready",
    "result": {"pageContext":{"frontmatter":{"id":"20210225000_blog_based_on_weready","title":"如何利用 weready 构建自己的博客","subtitle":"利用博客，或者笔记，逐步梳理构建更新自己的知识体系","subject":"博客","authors":"Chris Wei","keywords":"博客;构建;部署;定制;自动化","tags":"blog;gatsby;github;workflow;CI;","category":"精选推荐","cover":"https://media.inkscape.org/media/resources/file/Gears_8IWk3lq.svg","videos":null,"created_when":"2021-02-25","updated_when":"2021-02-25","level":200},"excerpt":"# 如何利用 weready 构建自己的博客\n\n# 使用说明\n","html":"<h1>如何利用 weready 构建自己的博客</h1>\n<h2>使用说明</h2>\n<ol>\n<li><code>github</code> 上面申请一个代码库，用于存放文章，这里会称呼这个代码库为 <code>notebook repo</code></li>\n<li><code>github</code> 上面再申请一个代码库，用于存放博客网站，这里会称呼这个代码库为 <code>blog repo</code></li>\n<li><code>notebook repo</code> 需要创建 <code>release</code> 分支</li>\n<li><code>notebook repo</code> 需要启用 <code>workflow actions</code></li>\n<li><code>notebook repo</code> 需要配置 <code>blog repo</code> 的访问权限</li>\n<li><code>blog repo</code>需要启用<code>pages</code>功能</li>\n<li><code>notebook repo</code> 引入自动构建的脚本 <code>.github/workflows/publish.yml</code> 文件（<a href=\"/blog/20210203101_github_actions\">参考：github actions 101</a>）</li>\n<li><code>notebook repo</code> 需要创建 <code>markdown</code> 文件</li>\n<li><code>notebook repo</code> 的本地更新，推送到 <code>github</code> （主分支）</li>\n<li><code>notebook repo</code> 的更新确认无误，确认要发布到博客网站的时候，将主分支合并到 <code>release</code> 分支，并推送到 <code>github</code></li>\n</ol>\n<p>推送动作会触发 <code>github</code> 工作流，工作流会自动完成以下工作：</p>\n<ol>\n<li>准备一台服务器</li>\n<li>安装 <code>nodejs</code> 环境</li>\n<li>克隆博客文章</li>\n<li>构建博客网站页面</li>\n<li>保存构建结果</li>\n<li>克隆演示项目文章（这里可以省略）</li>\n<li>构建演示项目结果（这里可以省略）</li>\n<li>保存构建结果（这里可以省略）</li>\n<li>推送到博客网站库</li>\n</ol>\n<h2>博客文件</h2>\n<p>博客文件是 格式的，但需要包含文件头，以<code>---</code>包围，在文件内容最前面</p>\n<pre><code>---\nid: 20210225000_blog_based_on_weready\ntitle: 如何利用 weready 构建自己的博客\nsubtitle: 利用博客，或者笔记，逐步梳理构建更新自己的知识体系\nsubject: 博客\ncategory: 精选推荐\ntags: blog;gatsby;github;workflow;CI;\nkeywords: 博客;构建;部署;定制;自动化\nlevel: 200\ncover: http://xxxxx.com/picture.png\nauthors: Chris Wei\ncreated_when: 2021-02-24\nupdated_when: 2021-02-24\n---\n\n# 博客标题\n\n博客内容\n</code></pre>\n<h2>定制</h2>\n<p>如果有前端开发经验，可以自行定制。</p>\n<h3>关键知识点</h3>\n<p>定制前，需要理解如下内容：</p>\n<ul>\n<li><code>html</code></li>\n<li><code>css</code></li>\n<li><code>js</code></li>\n<li><code>nodejs</code></li>\n<li><code>github actions</code></li>\n<li><code>react</code></li>\n<li><code>styled-components</code></li>\n<li><code>gatsby</code></li>\n</ul>\n<h3>系统构成</h3>\n<p>目前的博客系统，由三部分构成：<code>notebook repo</code> <code>blog repo</code> <code>factory repo</code>。前两个代码库前面已经讨论过，第三个代码库，就是存放网站构建代码的代码库。<code>factory repo</code>里面的代码，决定了网站的样式、路由、内容组织、内在逻辑。</p>\n<h3>定制</h3>\n<h4>为了实现自动化构建部署</h4>\n<ol>\n<li><code>fork</code> <code>factory repo</code></li>\n<li>修改 <code>notebook repo</code> 中的 <code>publish.yml</code></li>\n</ol>\n<h4>手动构建</h4>\n<ol>\n<li>克隆自己的 <code>factory repo</code> 到本地</li>\n<li>本地执行 <code>yarn start</code> 可以本地定制开发调试</li>\n<li>本地执行 <code>yarn build</code> 可以本地构建</li>\n<li>本地构建的结果，可以手动推送到 <code>blog repo</code></li>\n</ol>\n<h2>历史回顾</h2>\n<table>\n<thead>\n<tr>\n<th>代号</th>\n<th>技术栈</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Universal</td>\n<td>Express + Ant Design +</td>\n</tr>\n<tr>\n<td>Atlantis</td>\n<td>pm2 + Redux + Saga</td>\n</tr>\n<tr>\n<td>Aquoman</td>\n<td>Nestjs + Ant Pro[Umi + Dva] + TypeORM</td>\n</tr>\n<tr>\n<td>Alita</td>\n<td>Material UI + React.FC + Formik</td>\n</tr>\n<tr>\n<td>Athena</td>\n<td>Nest + Ant Pro + i18n + GraphQL</td>\n</tr>\n<tr>\n<td>Achellis</td>\n<td>Nest + Ant Pro + Workflow Worker + Docker + K8S</td>\n</tr>\n<tr>\n<td>Argus</td>\n<td>Typescript + Nestjs 6 + Function Compoent + React Hook Context + Ant Design 4 + Gatsby + Material UI + Styled Components + StoryBook + react-hook-form + we-ready lib + i18n</td>\n</tr>\n</tbody>\n</table>"}},
    "staticQueryHashes": ["3159585216","3208650349","3659731985"]}