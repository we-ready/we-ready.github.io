{
    "componentChunkName": "component---src-templates-blog-js",
    "path": "/blog/20210203001_linux_files",
    "result": {"pageContext":{"frontmatter":{"id":"20210203001_linux_files","title":"Linux 下的文件操作","subtitle":"利用 shell 对 Linux 系统下的文件，执行各种操作","subject":"运维","authors":"Chris Wei","keywords":"条件删除","tags":"XShell","category":"经验技巧","cover":"https://media.inkscape.org/media/resources/file/Koi_carp_2.svg","videos":null,"created_when":"2021-02-03T00:00:00.000Z","updated_when":"2021-02-03T00:00:00.000Z","level":100},"excerpt":"# Linux 下的文件操作\n\n# 参考\n\n*   [⚠️]()\n\n# 带过滤条件的批量删除\n","html":"<h1>Linux 下的文件操作</h1>\n<h2>参考</h2>\n<ul>\n<li><a href=\"https://unix.stackexchange.com/questions/422392/delete-all-folders-inside-a-folder-except-one-with-specific-name\">⚠️</a></li>\n</ul>\n<h2>带过滤条件的批量删除</h2>\n<h4>例1</h4>\n<pre><code>find ! -regex '^./.git\\(/.*\\)?' -delete\n</code></pre>\n<blockquote>\n<p>删除当前目录下所有文件和子目录，但保留 <code>.git</code> 子目录及其下的所有文件</p>\n</blockquote>\n<h4>例2</h4>\n<pre><code>find ./x -mindepth 1 ! -regex '^./x/.git\\(/.*\\)?' -delete\n</code></pre>\n<blockquote>\n<p>删除当前目录下的子目录 <code>x</code> 下面的所有文件和子目录，但保留 <code>.git</code> 子目录及其下的所有文件</p>\n</blockquote>\n<table>\n<thead>\n<tr>\n<th align=\"right\">命令参数</th>\n<th>作用</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"right\"><code>find</code></td>\n<td>shell 命令</td>\n</tr>\n<tr>\n<td align=\"right\"><code>./x</code></td>\n<td>命令的执行范围</td>\n</tr>\n<tr>\n<td align=\"right\"><code>-mindepth 1</code></td>\n<td>最小层级为 <code>1</code>, 也就是不包含 <code>./x</code> 自身</td>\n</tr>\n<tr>\n<td align=\"right\"><code>!</code></td>\n<td>排除后面符合条件的内容</td>\n</tr>\n<tr>\n<td align=\"right\"><code>-regex '^./myfolder/test2\\(/.*\\)?'</code></td>\n<td>正则表达式，匹配条件</td>\n</tr>\n<tr>\n<td align=\"right\"><code>-delete</code></td>\n<td>对符合条件的执行删除操作</td>\n</tr>\n</tbody>\n</table>"}},
    "staticQueryHashes": ["2877226700","3159585216","3659731985","3670619862"]}